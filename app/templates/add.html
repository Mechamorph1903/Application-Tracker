<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Add Application</title>
	<link rel="stylesheet" href="{{ url_for('static', filename="css/add_edit.css") }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
	<header class="top-section">
		<button id="back-btn">
			<i class="fa-solid fa-arrow-left"></i><span>Back</span>
		</button>

		<h1>New Application</h1>
	</header>

	<main class="add-form">
		<form method="POST" action="{{ url_for('applications.add_application') }}" onsubmit="console.log('Form submitting!'); return true;">
			  <div class="form-group">
            <label for="app_name">Job Name: </label>
            <input type="text" name="app_name" required placeholder="Future Workforce: Summer 2026" title="Name of Program">
        </div>

        <div class="form-group">
            <label for="company">Company: </label>
            <input name="company" required placeholder="McDonald's" title="Name of Company">
        </div>

        <div class="form-group">
            <label for="location">Location: </label>
            <input name="location" placeholder="Distrito National, Dominican Republic" title="Where is job located?">
        </div>

        <div class="form-group">
            <label for="role">Role: </label>
            <input type="text" name="role" placeholder="Accountant Intern" title="Enter the role or position">
        </div>

        <div class="form-group">
            <label for="link">Link:</label>
            <input type="text" name="link" title="Link to the Application" placeholder="https://jobs.friesinthebag.com">
        </div>

        <div class="form-group">
            <label for="applied">Date Applied: </label>
			<input type="date" name="applied" id="applied" placeholder="Select application date" title="Enter the date you applied" value="{{ today }}">
        </div>

		<div class="form-group">
            <label for="deadline">Deadline: </label>
			<input type="date" name="deadline_date" id="applied" placeholder="Select deadline date" title="Enter the deadline date" value="{{ today }}">
        </div>

		<div class="form-group">
            <label for="description">Job Description: </label>
            <textarea type="text" name="description" placeholder="We want someone committed to Karens..." title="What is the job about?"></textarea>
        </div>

		<div class="form-group">
            <label for="notes">Personal Notes:</label>
            <textarea type="text" name="notes" placeholder="Should Follow up on 3/20, Call Dumebi tomorrow..." title="Personal Notes"></textarea>
        </div>

        <!-- Visibility and Job Type Section -->
        <div class="form-group">
            <label for="visibility">Visibility:</label>
            <select name="visibility" id="visibility" title="Who can see this application">
                <option value="friends">Friends</option>
                <option value="private">Private</option>
            </select>
        </div>

        <div class="form-group">
            <label for="job_type">Work Arrangement:</label>
            <select name="job_type" id="job_type" title="Work arrangement type">
                <option value="on-site">On-site</option>
                <option value="remote">Remote</option>
                <option value="hybrid">Hybrid</option>
            </select>
        </div>
			 <!-- Contacts Section -->
            <div class="form-group">
                <div class="contacts-header">
                    <label>Contacts:</label>
                    <button type="button" id="add-contact-btn" class="add-contact-btn">
                        <i class="fas fa-plus"></i> Add Contact
                    </button>
                </div>
                
                <!-- Contact Form (Hidden by default) -->
                <div id="contact-form" class="contact-form hidden">
                    <div class="contact-form-header">
                        <h4>Add New Contact</h4>
                        <button type="button" id="cancel-contact" class="cancel-btn">âœ•</button>
                    </div>
                    
                    <div class="contact-fields">
                        <div class="form-row">
                            <div class="form-col">
                                <label for="contact-name">Name:</label>
                                <input type="text" id="contact-name" placeholder="Full Name">
                            </div>
                            <div class="form-col">
                                <label for="contact-title">Title:</label>
                                <input type="text" id="contact-title" placeholder="HR Manager, Recruiter, etc.">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <label for="contact-email">Email:</label>
                                <input type="email" id="contact-email" placeholder="contact@company.com">
                            </div>
                            <div class="form-col">
                                <label for="contact-phone">Phone:</label>
                                <input type="tel" id="contact-phone" placeholder="(555) 123-4567">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <label for="contact-linkedin">LinkedIn:</label>
                                <input type="url" id="contact-linkedin" placeholder="https://linkedin.com/in/username">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="contact-notes">Notes:</label>
                            <textarea id="contact-notes" rows="2" placeholder="Additional notes about this contact..."></textarea>
                        </div>
                    </div>
                    
                    <div class="contact-form-actions">
                        <button type="button" id="save-contact" class="save-contact-btn">
                            <i class="fas fa-save"></i> Save Contact
                        </button>
                    </div>
                </div>
				<!-- Contacts List -->
                <div id="contacts-list" class="contacts-list">
                    <p class="no-contacts">No contacts added yet.</p>
                </div>
            </div>

			<input type="hidden" id="contacts-data" name="contacts" value="[]"> <!--Where contatcs data is stored and sent to flask-->

			<div class="form-group">
            	<button type="submit" onclick="console.log('Submit Btton clciked')">Add Application</button>
        	</div>
		</form>
	</main>

	<div id="pop-up-back">
		<div id="pop-up">
			<i class="fa-solid fa-xmark" id="pop-up-cancel"></i>
			<p id="pop-up-message">hey</p>
			<div class="pop-up-buttons">
				<button class="confirmation-buttons" id="yes">Yes</button>
				<button class="confirmation-buttons" id="no">No</button>
			</div>
		</div>
	</div>
	
	<script src="{{ url_for('static', filename="js/applications.js")}}"></script>
</body>
</html>